{"version":3,"file":"js/685.5a37b08affe07e2ae4ef.js","mappings":"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","sources":["webpack:///./src/client/api/mock-service.ts","webpack:///./src/client/api/ciam-authz.ts","webpack:///./src/client/api/ciam-service.ts","webpack:///./src/client/entitlements-api/entitlements-service.ts","webpack:///./src/client/entitlements-api/rbac.ts","webpack:///./src/client/entitlements-api/entitlements.ts","webpack:///./src/client/service.ts","webpack:///./src/Components/ServiceProvider.tsx","webpack:///./src/Components/EmptyStateNoSubscription.tsx","webpack:///./src/Components/RemoveUsersModal.tsx","webpack:///./src/Components/SeatsHeader.tsx","webpack:///./src/Components/EmptyStateNoAssignedSeat.tsx","webpack:///./src/Components/EmptyStateNoResults.tsx","webpack:///./src/Components/UsersWithSeatTable.tsx","webpack:///./src/Components/ConfirmRemoveDialog.tsx","webpack:///./src/Pages/UsersPage.tsx","webpack:///./src/Components/UsersPickerTable.tsx","webpack:///./src/Pages/AddUsersPage.tsx","webpack:///./src/Pages/RemoveUsersPage.tsx","webpack:///./src/Routes.tsx","webpack:///./src/App.tsx","webpack:///./src/store/index.ts"],"sourcesContent":["import { License, LicenseService, User } from '../service';\n\ntype MockLicense = {\n  totalSeats: number;\n  availableSeats: number;\n  assignedSeats: number;\n};\n\nexport class MockService implements LicenseService {\n  async get(): Promise<License> {\n    const { totalSeats, availableSeats }: MockLicense = await (\n      await fetch('/aw-api/subscriptions')\n    ).json();\n    return {\n      total: totalSeats,\n      available: availableSeats,\n    };\n  }\n\n  async seats(): Promise<User[]> {\n    return await (await fetch('/aw-api/users')).json();\n  }\n\n  assign(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  unAssign(): Promise<void> {\n    return Promise.resolve();\n  }\n}\n","/**\n * CIAM Authz\n * version not set\n * DO NOT MODIFY - This file has been generated using oazapfts.\n * See https://www.npmjs.com/package/oazapfts\n */\nimport * as Oazapfts from 'oazapfts/lib/runtime';\nimport * as QS from 'oazapfts/lib/runtime/query';\nexport const defaults: Oazapfts.RequestOpts = {\n  baseUrl:\n    'https://ciam-authz-hw-ciam-authz--runtime-ext.apps.ext.spoke.preprod.us-east-1.aws.paas.redhat.com/',\n};\nconst oazapfts = Oazapfts.runtime(defaults);\nexport const servers = {\n  server1:\n    'https://ciam-authz-hw-ciam-authz--runtime-ext.apps.ext.spoke.preprod.us-east-1.aws.paas.redhat.com/',\n};\nexport type V1AlphaCheckPermissionRequest = {\n  subject?: string;\n  operation?: string;\n  resourcetype?: string;\n  resourceid?: string;\n};\nexport type V1AlphaCheckPermissionResponse = {\n  result?: boolean;\n  description?: string;\n};\nexport type ProtobufAny = {\n  [key: string]: object;\n};\nexport type RpcStatus = {\n  code?: number;\n  message?: string;\n  details?: ProtobufAny[];\n};\nexport type V1AlphaGetLicenseResponse = {\n  seatsTotal?: string;\n  seatsAvailable?: string;\n};\nexport type LicensesServiceIdBody = {\n  assign?: string[];\n  unassign?: string[];\n};\nexport type V1AlphaModifySeatsResponse = object;\nexport type V1AlphaGetSeatsUserRepresentation = {\n  displayName?: string;\n  id?: string;\n  assigned?: boolean;\n};\nexport type V1AlphaGetSeatsResponse = {\n  users?: V1AlphaGetSeatsUserRepresentation[];\n};\n/**\n * Checks the permission and returns allowed (true) or not allowed (false)\n */\nexport function checkPermissionCheckPermission(\n  v1AlphaCheckPermissionRequest: V1AlphaCheckPermissionRequest,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: V1AlphaCheckPermissionResponse;\n        }\n      | {\n          status: 401;\n          data: object;\n        }\n      | {\n          status: 403;\n          data: object;\n        }\n      | {\n          status: 500;\n          data: object;\n        }\n      | {\n          status: number;\n          data: RpcStatus;\n        }\n    >(\n      '/v1alpha/check',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: v1AlphaCheckPermissionRequest,\n      })\n    )\n  );\n}\n/**\n * Summarize a license.\n */\nexport function licenseServiceGetLicense(\n  orgId: string,\n  serviceId: string,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: V1AlphaGetLicenseResponse;\n        }\n      | {\n          status: 401;\n          data: object;\n        }\n      | {\n          status: 403;\n          data: object;\n        }\n      | {\n          status: 500;\n          data: object;\n        }\n      | {\n          status: number;\n          data: RpcStatus;\n        }\n    >(\n      `/v1alpha/orgs/${encodeURIComponent(orgId)}/licenses/${encodeURIComponent(\n        serviceId\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Assign or unassign users to/from the license.\n */\nexport function licenseServiceModifySeats(\n  orgId: string,\n  serviceId: string,\n  licensesServiceIdBody: LicensesServiceIdBody,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: V1AlphaModifySeatsResponse;\n        }\n      | {\n          status: 401;\n          data: object;\n        }\n      | {\n          status: 403;\n          data: object;\n        }\n      | {\n          status: 500;\n          data: object;\n        }\n      | {\n          status: number;\n          data: RpcStatus;\n        }\n    >(\n      `/v1alpha/orgs/${encodeURIComponent(orgId)}/licenses/${encodeURIComponent(\n        serviceId\n      )}`,\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: licensesServiceIdBody,\n      })\n    )\n  );\n}\n/**\n * Gets user details with filters.\n */\nexport function licenseServiceGetSeats(\n  orgId: string,\n  serviceId: string,\n  {\n    includeUsers,\n    filter,\n  }: {\n    includeUsers?: boolean;\n    filter?: 'assigned' | 'assignable';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: V1AlphaGetSeatsResponse;\n        }\n      | {\n          status: 401;\n          data: object;\n        }\n      | {\n          status: 403;\n          data: object;\n        }\n      | {\n          status: 500;\n          data: object;\n        }\n      | {\n          status: number;\n          data: RpcStatus;\n        }\n    >(\n      `/v1alpha/orgs/${encodeURIComponent(orgId)}/licenses/${encodeURIComponent(\n        serviceId\n      )}/seats${QS.query(\n        QS.explode({\n          includeUsers,\n          filter,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n","import {\n  AuthenticatedUser,\n  License,\n  LicenseService,\n  TokenFunction,\n  User,\n  header,\n} from '../service';\nimport {\n  LicensesServiceIdBody,\n  licenseServiceGetLicense,\n  licenseServiceGetSeats,\n  licenseServiceModifySeats,\n} from './ciam-authz';\n\nexport class CiamAuthz implements LicenseService {\n  private baseUrl: string;\n\n  constructor(baseUrl?: string) {\n    this.baseUrl = baseUrl || '';\n  }\n\n  async get({ orgId, serviceId, token }: AuthenticatedUser): Promise<License> {\n    const opts = await this.requestHeader(token);\n    const result = await licenseServiceGetLicense(orgId, serviceId, opts);\n    return {\n      available: Number(result.seatsAvailable) || 0,\n      total: Number(result.seatsTotal) || 0,\n    };\n  }\n\n  async seats(\n    { orgId, serviceId, token }: AuthenticatedUser,\n    assigned: boolean | undefined = true\n  ): Promise<User[]> {\n    const opts = await this.requestHeader(token);\n    const result = await licenseServiceGetSeats(\n      orgId,\n      serviceId,\n      { filter: assigned ? 'assigned' : 'assignable' },\n      opts\n    );\n    return (\n      result.users?.map(({ id, displayName, assigned }) => ({\n        id: id || '',\n        name: displayName || '',\n        assigned: !!assigned,\n      })) || []\n    );\n  }\n\n  private async requestHeader(token: TokenFunction) {\n    return await header(token, this.baseUrl);\n  }\n\n  async assign(user: AuthenticatedUser, userIds: string[]): Promise<void> {\n    const body: LicensesServiceIdBody = { assign: userIds };\n    await this.modify(user, body);\n    return;\n  }\n\n  async unAssign(user: AuthenticatedUser, userIds: string[]): Promise<void> {\n    const body: LicensesServiceIdBody = { unassign: userIds };\n    await this.modify(user, body);\n    return;\n  }\n\n  private async modify(\n    { orgId, serviceId, token }: AuthenticatedUser,\n    body: LicensesServiceIdBody\n  ): Promise<any> {\n    const opts = await this.requestHeader(token);\n    return licenseServiceModifySeats(orgId, serviceId, body, opts);\n  }\n}\n","/**\n * Entitlements\n * 1.0.0\n * DO NOT MODIFY - This file has been generated using oazapfts.\n * See https://www.npmjs.com/package/oazapfts\n */\nimport * as Oazapfts from 'oazapfts/lib/runtime';\nimport * as QS from 'oazapfts/lib/runtime/query';\nexport const defaults: Oazapfts.RequestOpts = {\n  baseUrl: '/api/entitlements/v1/',\n};\nconst oazapfts = Oazapfts.runtime(defaults);\nexport const servers = {\n  localEntitlementsApi: '/api/entitlements/v1/',\n  prodEntitlementsApi: 'https://cloud.redhat.com/api/entitlements/v1/',\n};\nexport type ServiceDetails = {\n  is_entitled?: boolean;\n  is_trial?: boolean;\n};\nexport type Service = {\n  [key: string]: ServiceDetails;\n};\nexport type PaginationMeta = {\n  count?: number;\n};\nexport type PaginationLinks = {\n  first?: string;\n  previous?: string;\n  next?: string;\n  last?: string;\n};\nexport type ListPagination = {\n  meta?: PaginationMeta;\n  links?: PaginationLinks;\n};\nexport type Seat = {\n  subscription_id?: string;\n  account_username?: string;\n};\nexport type ListSeatsResponsePagination = ListPagination & {\n  data: Seat[];\n  allowed?: number;\n  consumed?: number;\n};\nexport type Error = {\n  error?: string;\n};\nexport type SeatRequest = {\n  account_username: string;\n};\nexport type ComplianceScreeningResponse = {\n  result?: 'OK' | 'ERROR_T5' | 'ERROR_OFAC' | 'ERROR_EXPORT_CONTROL';\n  description?: string;\n};\nexport type ComplianceScreeningErrorResponse = {\n  errors?: {\n    error?: string;\n    identityType?: string;\n    identity?: string;\n  }[];\n};\nexport type DependencyErrorDetails = {\n  dependency_failure?: boolean;\n  service?: string;\n  status?: number;\n  endpoint?: string;\n  message?: string;\n};\nexport type DependencyErrorResponse = {\n  error?: {\n    [key: string]: DependencyErrorDetails;\n  };\n};\n/**\n * get a list of services a user is entitled to\n */\nexport function getServices(opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: Service;\n        }\n      | {\n          status: 404;\n        }\n    >('/services', {\n      ...opts,\n    })\n  );\n}\n/**\n * returns list of users occupying seats\n */\nexport function getSeats(\n  {\n    limit,\n    offset,\n  }: {\n    limit?: number;\n    offset?: number;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: ListSeatsResponsePagination;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/seats${QS.query(\n        QS.explode({\n          limit,\n          offset,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * assign a user to a seat\n */\nexport function postSeats(\n  seatRequest: SeatRequest,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: Seat;\n        }\n      | {\n          status: 400;\n          data: Error;\n        }\n    >(\n      '/seats',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: seatRequest,\n      })\n    )\n  );\n}\n/**\n * remove a user from a seat\n */\nexport function deleteSeatsById(id: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 400;\n          data: Error;\n        }\n      | {\n          status: 403;\n          data: Error;\n        }\n    >(`/seats/${encodeURIComponent(id)}`, {\n      ...opts,\n      method: 'DELETE',\n    })\n  );\n}\n/**\n * verify exports compliance for a given user\n */\nexport function getCompliance(opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: ComplianceScreeningResponse;\n        }\n      | {\n          status: 400;\n          data: ComplianceScreeningErrorResponse;\n        }\n      | {\n          status: 500;\n          data: DependencyErrorResponse;\n        }\n    >('/compliance', {\n      ...opts,\n    })\n  );\n}\n","/**\n * Role Based Access Control\n * 1.0.0\n * DO NOT MODIFY - This file has been generated using oazapfts.\n * See https://www.npmjs.com/package/oazapfts\n */\nimport * as Oazapfts from 'oazapfts/lib/runtime';\nimport * as QS from 'oazapfts/lib/runtime/query';\nexport const defaults: Oazapfts.RequestOpts = {\n  baseUrl: '/api/rbac/v1',\n};\nconst oazapfts = Oazapfts.runtime(defaults);\nexport const servers = {\n  server1: '/api/rbac/v1',\n};\nexport type PaginationMeta = {\n  count?: number;\n};\nexport type PaginationLinks = {\n  first?: string;\n  previous?: string;\n  next?: string;\n  last?: string;\n};\nexport type ListPagination = {\n  meta?: PaginationMeta;\n  links?: PaginationLinks;\n};\nexport type CrossAccountRequest = {\n  request_id?: string;\n  target_account?: string;\n  target_org?: string;\n  status?: string;\n  created?: string;\n  start_date?: any;\n  end_date?: any;\n};\nexport type CrossAccountRequestByAccount = CrossAccountRequest & {\n  first_name?: string;\n  last_name?: string;\n  email?: string;\n};\nexport type CrossAccountRequestByUserId = CrossAccountRequest & {\n  user_id?: string;\n};\nexport type CrossAccountRequestPagination = ListPagination & {\n  data: (CrossAccountRequestByAccount | CrossAccountRequestByUserId)[];\n};\nexport type Error403 = {\n  errors: {\n    detail?: string;\n    source?: string;\n    status?: string;\n  }[];\n};\nexport type Error = {\n  errors: {\n    detail?: string;\n    status?: string;\n  }[];\n};\nexport type CrossAccountRequestIn = {\n  target_account: string;\n  target_org?: string;\n  start_date: string;\n  end_date: string;\n  roles: string[];\n};\nexport type Permission = {\n  application?: string;\n  resource_type?: string;\n  verb?: string;\n  permission?: string;\n  description?: string;\n};\nexport type CrossAccountRequestWithRoles = {\n  request_id?: string;\n  target_account?: string;\n  target_org?: string;\n  start_date?: string;\n  end_date?: string;\n  status?: string;\n  created?: string;\n  roles?: {\n    display_name?: string;\n    description?: string;\n    permissions?: Permission[];\n  }[];\n};\nexport type CrossAccountRequestOut = CrossAccountRequestWithRoles & {\n  user_id?: string;\n};\nexport type CrossAccountRequestDetailByAccount =\n  CrossAccountRequestWithRoles & {\n    first_name?: any;\n    last_name?: any;\n    email?: any;\n  };\nexport type CrossAccountRequestDetailByUseId = CrossAccountRequestWithRoles & {\n  user_id?: any;\n};\nexport type CrossAccountRequestDetail =\n  | CrossAccountRequestDetailByAccount\n  | CrossAccountRequestDetailByUseId;\nexport type CrossAccountRequestUpdateIn = {\n  start_date: string;\n  end_date: string;\n  roles: string[];\n};\nexport type CrossAccountRequestPatch = {\n  start_date?: string;\n  end_date?: string;\n  roles?: string[];\n  status?: 'pending' | 'approved' | 'expired' | 'cancelled' | 'denied';\n};\nexport type Status = {\n  api_version: number;\n  commit?: string;\n};\nexport type Principal = {\n  username: string;\n  email: string;\n  first_name?: string;\n  last_name?: string;\n  is_active?: boolean;\n  is_org_admin?: boolean;\n};\nexport type PrincipalMinimal = {\n  username: string;\n};\nexport type PrincipalPagination = ListPagination & {\n  data: (Principal | PrincipalMinimal)[];\n};\nexport type Group = {\n  name: string;\n  description?: string;\n};\nexport type Uuid = {\n  uuid: string;\n};\nexport type Timestamped = {\n  created: string;\n  modified: string;\n};\nexport type GroupOut = Group &\n  Uuid &\n  Timestamped & {\n    principalCount?: number;\n    roleCount?: number;\n    system?: boolean;\n    platform_default?: boolean;\n    admin_default?: boolean;\n  };\nexport type GroupPagination = ListPagination & {\n  data: GroupOut[];\n};\nexport type Role = {\n  name: string;\n  display_name?: string;\n  description?: string;\n};\nexport type RoleOut = Role &\n  Uuid &\n  Timestamped & {\n    policyCount?: number;\n    accessCount?: number;\n    applications?: string[];\n    system?: boolean;\n    platform_default?: boolean;\n    admin_default?: boolean;\n    external_role_id?: string;\n    external_tenant?: string;\n  };\nexport type GroupWithPrincipalsAndRoles = Group &\n  Uuid &\n  Timestamped & {\n    principals: Principal[];\n    roles: RoleOut[];\n  };\nexport type PrincipalIn = {\n  username: string;\n};\nexport type GroupPrincipalIn = {\n  principals: PrincipalIn[];\n};\nexport type ErrorNotFound = {\n  errors: {\n    detail?: string;\n    status?: string;\n    source?: string;\n  }[];\n};\nexport type GroupRolesPagination = ListPagination & {\n  data: RoleOut[];\n};\nexport type GroupRoleIn = {\n  roles: string[];\n};\nexport type ResourceDefinitionFilter = {\n  key: string;\n  operation: 'equal' | 'in';\n  value: string;\n};\nexport type ResourceDefinition = {\n  attributeFilter: ResourceDefinitionFilter;\n};\nexport type Access = {\n  permission: string;\n  resourceDefinitions: ResourceDefinition[];\n};\nexport type RoleIn = Role & {\n  access: Access[];\n};\nexport type RoleWithAccess = RoleOut & {\n  access: Access[];\n};\nexport type AdditionalGroup = {\n  name?: string;\n  description?: string;\n  uuid?: string;\n};\nexport type RoleOutDynamic = Role &\n  Uuid &\n  Timestamped & {\n    policyCount: number;\n    accessCount: number;\n    applications: string[];\n    system: boolean;\n    platform_default: boolean;\n    admin_default: boolean;\n    groups_in_count?: number;\n    groups_in?: AdditionalGroup[];\n    external_role_id?: string;\n    external_tenant?: string;\n    access?: Access[];\n  };\nexport type RolePaginationDynamic = ListPagination & {\n  data: RoleOutDynamic[];\n};\nexport type RolePatch = {\n  name?: string;\n  display_name?: string;\n  description?: string;\n};\nexport type AccessPagination = ListPagination & {\n  data: Access[];\n};\nexport type Policy = {\n  name: string;\n  description?: string;\n};\nexport type PolicyIn = Policy & {\n  group: string;\n  roles: string[];\n};\nexport type PolicyExtended = Policy &\n  Uuid &\n  Timestamped & {\n    group: GroupOut;\n    roles: RoleOut[];\n  };\nexport type PolicyPagination = ListPagination & {\n  data: PolicyExtended[];\n};\nexport type PermissionPagination = ListPagination & {\n  data: Permission[];\n};\nexport type PermissionOptionsPagination = ListPagination & {\n  data: string[];\n};\n/**\n * List the cross account requests for a user or account\n */\nexport function listCrossAccountRequests(\n  {\n    limit,\n    offset,\n    queryBy,\n    account,\n    orgId,\n    approvedOnly,\n    status,\n    orderBy,\n  }: {\n    limit?: number;\n    offset?: number;\n    queryBy?: 'user_id' | 'target_org';\n    account?: string;\n    orgId?: string;\n    approvedOnly?: 'true';\n    status?: 'pending' | 'approved' | 'denied' | 'cancelled' | 'expired';\n    orderBy?:\n      | 'request_id'\n      | 'start_date'\n      | 'end_date'\n      | 'created'\n      | 'modified'\n      | 'status';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: CrossAccountRequestPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/cross-account-requests/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          query_by: queryBy,\n          account,\n          org_id: orgId,\n          approved_only: approvedOnly,\n          status,\n          order_by: orderBy,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Create a cross account request\n */\nexport function createCrossAccountRequests(\n  crossAccountRequestIn: CrossAccountRequestIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 201;\n          data: CrossAccountRequestOut;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      '/cross-account-requests/',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: crossAccountRequestIn,\n      })\n    )\n  );\n}\n/**\n * Get a cross account request\n */\nexport function getCrossAccountRequest(\n  uuid: string,\n  {\n    queryBy,\n    account,\n    approvedOnly,\n  }: {\n    queryBy?: 'user_id' | 'target_org';\n    account?: string;\n    approvedOnly?: 'true';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: CrossAccountRequestDetail;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/cross-account-requests/${encodeURIComponent(uuid)}/${QS.query(\n        QS.explode({\n          query_by: queryBy,\n          account,\n          approved_only: approvedOnly,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Update a cross account request\n */\nexport function putCrossAccountRequest(\n  uuid: string,\n  crossAccountRequestUpdateIn: CrossAccountRequestUpdateIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: CrossAccountRequestDetail;\n        }\n      | {\n          status: 201;\n          data: CrossAccountRequestOut;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/cross-account-requests/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PUT',\n        body: crossAccountRequestUpdateIn,\n      })\n    )\n  );\n}\n/**\n * Patch a cross account request\n */\nexport function patchCrossAccountRequest(\n  uuid: string,\n  crossAccountRequestPatch: CrossAccountRequestPatch,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: CrossAccountRequestDetail;\n        }\n      | {\n          status: 201;\n          data: CrossAccountRequestOut;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/cross-account-requests/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PATCH',\n        body: crossAccountRequestPatch,\n      })\n    )\n  );\n}\n/**\n * Obtain server status\n */\nexport function getStatus(opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: Status;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >('/status/', {\n      ...opts,\n    })\n  );\n}\n/**\n * List the principals for a tenant\n */\nexport function listPrincipals(\n  {\n    limit,\n    offset,\n    matchCriteria,\n    usernames,\n    sortOrder,\n    email,\n    status,\n    adminOnly,\n    orderBy,\n    usernameOnly,\n  }: {\n    limit?: number;\n    offset?: number;\n    matchCriteria?: 'partial' | 'exact';\n    usernames?: string;\n    sortOrder?: 'asc' | 'desc';\n    email?: string;\n    status?: 'enabled' | 'disabled' | 'all';\n    adminOnly?: 'true' | 'false';\n    orderBy?: 'username';\n    usernameOnly?: true | false;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PrincipalPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/principals/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          match_criteria: matchCriteria,\n          usernames,\n          sort_order: sortOrder,\n          email,\n          status,\n          admin_only: adminOnly,\n          order_by: orderBy,\n          username_only: usernameOnly,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Create a group in a tenant\n */\nexport function createGroup(group: Group, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 201;\n          data: GroupOut;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      '/groups/',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: group,\n      })\n    )\n  );\n}\n/**\n * List the groups for a tenant\n */\nexport function listGroups(\n  {\n    limit,\n    offset,\n    name,\n    nameMatch,\n    scope,\n    username,\n    excludeUsername,\n    uuid,\n    roleNames,\n    roleDiscriminator,\n    orderBy,\n    platformDefault,\n    adminDefault,\n    system,\n  }: {\n    limit?: number;\n    offset?: number;\n    name?: string;\n    nameMatch?: 'partial' | 'exact';\n    scope?: 'account' | 'principal';\n    username?: string;\n    excludeUsername?: string;\n    uuid?: string[];\n    roleNames?: string[];\n    roleDiscriminator?: 'all' | 'any';\n    orderBy?: 'name' | 'modified' | 'principalCount' | 'policyCount';\n    platformDefault?: boolean;\n    adminDefault?: boolean;\n    system?: boolean;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: GroupPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          name,\n          name_match: nameMatch,\n          scope,\n          username,\n          exclude_username: excludeUsername,\n          role_discriminator: roleDiscriminator,\n          order_by: orderBy,\n          platform_default: platformDefault,\n          admin_default: adminDefault,\n          system,\n        }),\n        QS.form({\n          uuid,\n          role_names: roleNames,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Get a group in the tenant\n */\nexport function getGroup(uuid: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: GroupWithPrincipalsAndRoles;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(`/groups/${encodeURIComponent(uuid)}/`, {\n      ...opts,\n    })\n  );\n}\n/**\n * Update a group in the tenant\n */\nexport function updateGroup(\n  uuid: string,\n  group: Group,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: GroupOut;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PUT',\n        body: group,\n      })\n    )\n  );\n}\n/**\n * Delete a group in the tenant\n */\nexport function deleteGroup(uuid: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(`/groups/${encodeURIComponent(uuid)}/`, {\n      ...opts,\n      method: 'DELETE',\n    })\n  );\n}\n/**\n * Add a principal to a group in the tenant\n */\nexport function addPrincipalToGroup(\n  uuid: string,\n  groupPrincipalIn: GroupPrincipalIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: GroupWithPrincipalsAndRoles;\n        }\n      | {\n          status: 400;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: ErrorNotFound;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/principals/`,\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: groupPrincipalIn,\n      })\n    )\n  );\n}\n/**\n * Get a list of principals from a group in the tenant\n */\nexport function getPrincipalsFromGroup(\n  uuid: string,\n  {\n    principalUsername,\n    limit,\n    offset,\n    orderBy,\n    usernameOnly,\n  }: {\n    principalUsername?: string;\n    limit?: number;\n    offset?: number;\n    orderBy?: 'username';\n    usernameOnly?: true | false;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PrincipalPagination;\n        }\n      | {\n          status: 400;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/principals/${QS.query(\n        QS.explode({\n          principal_username: principalUsername,\n          limit,\n          offset,\n          order_by: orderBy,\n          username_only: usernameOnly,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Remove a principal from a group in the tenant\n */\nexport function deletePrincipalFromGroup(\n  uuid: string,\n  usernames: string,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 400;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: ErrorNotFound;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/principals/${QS.query(\n        QS.explode({\n          usernames,\n        })\n      )}`,\n      {\n        ...opts,\n        method: 'DELETE',\n      }\n    )\n  );\n}\n/**\n * List the roles for a group in the tenant\n */\nexport function listRolesForGroup(\n  uuid: string,\n  {\n    exclude,\n    roleName,\n    roleDisplayName,\n    roleDescription,\n    roleSystem,\n    roleExternalTenant,\n    limit,\n    offset,\n    orderBy,\n  }: {\n    exclude?: boolean;\n    roleName?: string;\n    roleDisplayName?: string;\n    roleDescription?: string;\n    roleSystem?: boolean;\n    roleExternalTenant?: string;\n    limit?: number;\n    offset?: number;\n    orderBy?: 'name' | 'display_name' | 'modified' | 'policyCount';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: GroupRolesPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/roles/${QS.query(\n        QS.explode({\n          exclude,\n          role_name: roleName,\n          role_display_name: roleDisplayName,\n          role_description: roleDescription,\n          role_system: roleSystem,\n          role_external_tenant: roleExternalTenant,\n          limit,\n          offset,\n          order_by: orderBy,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Add a role to a group in the tenant\n */\nexport function addRoleToGroup(\n  uuid: string,\n  groupRoleIn: GroupRoleIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: {\n            data: RoleOut[];\n          };\n        }\n      | {\n          status: 400;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/roles/`,\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: groupRoleIn,\n      })\n    )\n  );\n}\n/**\n * Remove a role from a group in the tenant\n */\nexport function deleteRoleFromGroup(\n  uuid: string,\n  roles: string,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 400;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/groups/${encodeURIComponent(uuid)}/roles/${QS.query(\n        QS.explode({\n          roles,\n        })\n      )}`,\n      {\n        ...opts,\n        method: 'DELETE',\n      }\n    )\n  );\n}\n/**\n * Create a role for a tenant\n */\nexport function createRole(roleIn: RoleIn, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 201;\n          data: RoleWithAccess;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      '/roles/',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: roleIn,\n      })\n    )\n  );\n}\n/**\n * List the roles for a tenant\n */\nexport function listRoles(\n  {\n    limit,\n    offset,\n    name,\n    system,\n    displayName,\n    nameMatch,\n    scope,\n    orderBy,\n    addFields,\n    username,\n    application,\n    permission,\n    externalTenant,\n  }: {\n    limit?: number;\n    offset?: number;\n    name?: string;\n    system?: boolean;\n    displayName?: string;\n    nameMatch?: 'partial' | 'exact';\n    scope?: 'account' | 'principal';\n    orderBy?: 'name' | 'display_name' | 'modified' | 'policyCount';\n    addFields?: ('groups_in' | 'groups_in_count' | 'access')[];\n    username?: string;\n    application?: string;\n    permission?: string;\n    externalTenant?: string;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: RolePaginationDynamic;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/roles/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          name,\n          system,\n          display_name: displayName,\n          name_match: nameMatch,\n          scope,\n          order_by: orderBy,\n          username,\n          application,\n          permission,\n          external_tenant: externalTenant,\n        }),\n        QS.form({\n          add_fields: addFields,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Get a role in the tenant\n */\nexport function getRole(\n  uuid: string,\n  {\n    scope,\n  }: {\n    scope?: 'account' | 'principal';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: RoleWithAccess;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/roles/${encodeURIComponent(uuid)}/${QS.query(\n        QS.explode({\n          scope,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Delete a role in the tenant\n */\nexport function deleteRole(uuid: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(`/roles/${encodeURIComponent(uuid)}/`, {\n      ...opts,\n      method: 'DELETE',\n    })\n  );\n}\n/**\n * Update a role in the tenant\n */\nexport function updateRole(\n  uuid: string,\n  roleWithAccess: RoleWithAccess,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/roles/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PUT',\n        body: roleWithAccess,\n      })\n    )\n  );\n}\n/**\n * Patch a role in the tenant\n */\nexport function patchRole(\n  uuid: string,\n  rolePatch?: RolePatch,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: RoleWithAccess;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/roles/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PATCH',\n        body: rolePatch,\n      })\n    )\n  );\n}\n/**\n * Get access for a role in the tenant\n */\nexport function getRoleAccess(\n  uuid: string,\n  {\n    limit,\n    offset,\n  }: {\n    limit?: number;\n    offset?: number;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: AccessPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/roles/${encodeURIComponent(uuid)}/access/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Create a policy in a tenant\n */\nexport function createPolicies(\n  policyIn: PolicyIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 201;\n          data: PolicyExtended;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      '/policies/',\n      oazapfts.json({\n        ...opts,\n        method: 'POST',\n        body: policyIn,\n      })\n    )\n  );\n}\n/**\n * List the policies in the tenant\n */\nexport function listPolicies(\n  {\n    limit,\n    offset,\n    name,\n    scope,\n    groupName,\n    groupUuid,\n    orderBy,\n  }: {\n    limit?: number;\n    offset?: number;\n    name?: string;\n    scope?: 'account' | 'principal';\n    groupName?: string;\n    groupUuid?: string;\n    orderBy?: 'name' | 'modified';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PolicyPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/policies/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          name,\n          scope,\n          group_name: groupName,\n          group_uuid: groupUuid,\n          order_by: orderBy,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * Get a policy in the tenant\n */\nexport function getPolicy(uuid: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PolicyExtended;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(`/policies/${encodeURIComponent(uuid)}/`, {\n      ...opts,\n    })\n  );\n}\n/**\n * Update a policy in the tenant\n */\nexport function updatePolicy(\n  uuid: string,\n  policyIn: PolicyIn,\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PolicyExtended;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/policies/${encodeURIComponent(uuid)}/`,\n      oazapfts.json({\n        ...opts,\n        method: 'PUT',\n        body: policyIn,\n      })\n    )\n  );\n}\n/**\n * Delete a policy in the tenant\n */\nexport function deletePolicy(uuid: string, opts?: Oazapfts.RequestOpts) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 204;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(`/policies/${encodeURIComponent(uuid)}/`, {\n      ...opts,\n      method: 'DELETE',\n    })\n  );\n}\n/**\n * Get the permitted access for a principal in the tenant (defaults to principal from the identity header)\n */\nexport function getPrincipalAccess(\n  application: string,\n  {\n    username,\n    orderBy,\n    limit,\n    offset,\n  }: {\n    username?: string;\n    orderBy?: 'application' | 'resource_type' | 'verb';\n    limit?: number;\n    offset?: number;\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: AccessPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 404;\n          data: Error;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/access/${QS.query(\n        QS.explode({\n          application,\n          username,\n          order_by: orderBy,\n          limit,\n          offset,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * List the permissions for a tenant\n */\nexport function listPermissions(\n  {\n    limit,\n    offset,\n    orderBy,\n    application,\n    resourceType,\n    verb,\n    permission,\n    excludeGlobals,\n    excludeRoles,\n    allowedOnly,\n  }: {\n    limit?: number;\n    offset?: number;\n    orderBy?: 'application' | 'resource_type' | 'verb' | 'permission';\n    application?: string;\n    resourceType?: string;\n    verb?: string;\n    permission?: string;\n    excludeGlobals?: 'true' | 'false';\n    excludeRoles?: string;\n    allowedOnly?: 'true' | 'false';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PermissionPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/permissions/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          order_by: orderBy,\n          application,\n          resource_type: resourceType,\n          verb,\n          permission,\n          exclude_globals: excludeGlobals,\n          exclude_roles: excludeRoles,\n          allowed_only: allowedOnly,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n/**\n * List the available options for fields of permissions for a tenant\n */\nexport function listPermissionOptions(\n  field: 'application' | 'resource_type' | 'verb',\n  {\n    limit,\n    offset,\n    application,\n    resourceType,\n    verb,\n    excludeGlobals,\n    allowedOnly,\n  }: {\n    limit?: number;\n    offset?: number;\n    application?: string;\n    resourceType?: string;\n    verb?: string;\n    excludeGlobals?: 'true' | 'false';\n    allowedOnly?: 'true' | 'false';\n  } = {},\n  opts?: Oazapfts.RequestOpts\n) {\n  return oazapfts.ok(\n    oazapfts.fetchJson<\n      | {\n          status: 200;\n          data: PermissionOptionsPagination;\n        }\n      | {\n          status: 401;\n        }\n      | {\n          status: 403;\n          data: Error403;\n        }\n      | {\n          status: 500;\n          data: Error;\n        }\n    >(\n      `/permissions/options/${QS.query(\n        QS.explode({\n          limit,\n          offset,\n          field,\n          application,\n          resource_type: resourceType,\n          verb,\n          exclude_globals: excludeGlobals,\n          allowed_only: allowedOnly,\n        })\n      )}`,\n      {\n        ...opts,\n      }\n    )\n  );\n}\n","import {\n  AuthenticatedUser,\n  License,\n  LicenseService,\n  User,\n  header,\n} from '../service';\nimport { deleteSeatsById, getSeats, postSeats } from './entitlements-service';\nimport { listPrincipals } from './rbac';\nimport { Principal } from './rbac';\n\nexport class EntitlementsService implements LicenseService {\n  private baseUrl: string;\n\n  constructor(baseUrl?: string) {\n    this.baseUrl = baseUrl || '';\n  }\n\n  private async requestHeader(user: AuthenticatedUser) {\n    return await header(user.token, this.baseUrl);\n  }\n\n  async get(user: AuthenticatedUser): Promise<License> {\n    const result = await getSeats(\n      {\n        limit: 10,\n        offset: 0,\n      },\n      await this.requestHeader(user)\n    );\n    const available = result.allowed || 0;\n    const total = available - (result.consumed || 0);\n    return {\n      available,\n      total,\n    };\n  }\n\n  async seats(\n    user: AuthenticatedUser,\n    assigned: boolean | undefined = true\n  ): Promise<User[]> {\n    if (assigned) {\n      const result = await getSeats({}, await this.requestHeader(user));\n\n      return result.data.map(({ subscription_id, account_username }) => ({\n        id: subscription_id || '',\n        name: account_username || '',\n        assigned: true,\n      }));\n    } else {\n      const header = await this.requestHeader(user);\n      const result = await listPrincipals({ usernameOnly: false }, header);\n\n      return (result.data as Principal[]).map(\n        ({ username, first_name, last_name }) => ({\n          id: username,\n          name: `${first_name} ${last_name}`,\n          assigned: false,\n        })\n      );\n    }\n  }\n\n  async assign(user: AuthenticatedUser, userIds: string[]): Promise<void> {\n    await Promise.all(\n      userIds.map(async (id) =>\n        postSeats({ account_username: id }, await this.requestHeader(user))\n      )\n    );\n    return Promise.resolve();\n  }\n\n  async unAssign(user: AuthenticatedUser, userIds: string[]): Promise<void> {\n    await Promise.all(\n      userIds.map(async (id) =>\n        deleteSeatsById(id, await this.requestHeader(user))\n      )\n    );\n    return Promise.resolve();\n  }\n}\n","import { MockService } from './api/mock-service';\nimport { CiamAuthz } from './api/ciam-service';\nimport { EntitlementsService } from './entitlements-api/entitlements';\nimport * as Oazapfts from 'oazapfts/lib/runtime';\n\nexport type License = {\n  available: number;\n  total: number;\n};\n\nexport type User = {\n  id: string;\n  name: string;\n  assigned: boolean;\n};\n\nexport type TokenFunction = () => Promise<string>;\n\nexport type AuthenticatedUser = {\n  orgId: string;\n  serviceId: string;\n  token: TokenFunction;\n};\n\nexport const header = async (\n  token: TokenFunction,\n  baseUrl: string\n): Promise<Oazapfts.RequestOpts> => {\n  const tokenString = await token();\n  return {\n    headers: {\n      Authorization: `Bearer ${tokenString}`,\n    },\n    baseUrl,\n  };\n};\n\nexport interface LicenseService {\n  get(user: AuthenticatedUser): Promise<License>;\n\n  seats(user: AuthenticatedUser, assigned?: boolean): Promise<User[]>;\n\n  assign(user: AuthenticatedUser, userIds: string[]): Promise<void>;\n\n  unAssign(user: AuthenticatedUser, userIds: string[]): Promise<void>;\n}\n\nexport function getService(\n  serviceKey: string,\n  baseUrl?: string\n): LicenseService {\n  switch (serviceKey) {\n    case 'CIAM_Authz':\n      return new CiamAuthz(baseUrl);\n    case 'entitlements':\n      return new EntitlementsService(baseUrl);\n    case 'mock':\n      return new MockService();\n    default:\n      throw new Error('no implementation found for ' + serviceKey);\n  }\n}\n","import { Context, PropsWithChildren, createContext, useContext } from 'react';\nimport { LicenseService, getService } from '../client/service';\n\ntype ServiceContextProps = {\n  serviceName: string;\n  baseUrl?: string;\n};\n\nexport const ServiceContext = createContext<LicenseService | undefined>(\n  undefined\n);\n\nfunction useRequiredContext<T>(context: Context<T>): NonNullable<T> {\n  const resolved = useContext(context);\n\n  if (resolved !== undefined && resolved !== null) {\n    return resolved;\n  }\n\n  throw new Error(\n    `No provider found for context, make sure it is included in your component hierarchy.`\n  );\n}\n\nexport const useService = () => useRequiredContext(ServiceContext);\n\nexport const ServiceContextProvider = ({\n  serviceName,\n  baseUrl,\n  children,\n}: PropsWithChildren<ServiceContextProps>) => {\n  return (\n    <ServiceContext.Provider value={getService(serviceName, baseUrl)}>\n      {children}\n    </ServiceContext.Provider>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Icon,\n  Title,\n} from '@patternfly/react-core';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport type { VoidFunctionComponent } from 'react';\n\nconst DangerIcon: VoidFunctionComponent = () => (\n  <Icon status={'danger'} size={'xl'}>\n    <ExclamationCircleIcon />\n  </Icon>\n);\n\nexport const EmptyStateNoSubscription: VoidFunctionComponent = () => {\n  return (\n    <EmptyState isFullHeight={true}>\n      <EmptyStateIcon component={DangerIcon} variant={'container'} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        Your organization no longer has an Seats Administration subscription.\n      </Title>\n      <EmptyStateBody>\n        Please contact Red Hat if there is an issue with your subscription or if\n        you wish to continue.\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import {\n  Button,\n  ButtonVariant,\n  Modal,\n  ModalVariant,\n} from '@patternfly/react-core';\nimport { VoidFunctionComponent } from 'react';\n\nexport type RemoveUsersModalProps = {\n  usersToRemove: number;\n  onOk: () => void;\n};\n\nconst RemoveUsersModal: VoidFunctionComponent<RemoveUsersModalProps> = ({\n  usersToRemove,\n  onOk,\n}) => {\n  return (\n    <Modal\n      id=\"remove-users-modal\"\n      variant={ModalVariant.small}\n      isOpen={true}\n      aria-label={'Remove users from seats'}\n      title={'Remove users from seats'}\n      titleIconVariant=\"warning\"\n      showClose={false}\n      aria-describedby=\"modal-message\"\n      actions={[\n        <Button onClick={onOk} key={1} variant={ButtonVariant.primary}>\n          Ok\n        </Button>,\n      ]}\n    >\n      Your organization has decreased the amount of seats available. Please\n      remove {usersToRemove} users from their seats to continue the\n      subscription.\n    </Modal>\n  );\n};\n\nexport { RemoveUsersModal };\n","import {\n  Label,\n  Level,\n  LevelItem,\n  PageSection,\n  Text,\n  TextContent,\n  Title,\n} from '@patternfly/react-core';\nimport { VoidFunctionComponent } from 'react';\n\nexport type SeatsHeaderProps = {\n  availableSeats: number;\n  totalSeats: number;\n};\nexport const SeatsHeader: VoidFunctionComponent<SeatsHeaderProps> = ({\n  availableSeats,\n  totalSeats,\n}) => {\n  return (\n    <PageSection variant={'light'} hasShadowBottom={true}>\n      <TextContent>\n        <Title headingLevel={'h1'}>Seats Administration</Title>\n        <Level>\n          <LevelItem>\n            <Text>\n              This group contains all users assigned seats within your\n              organization.\n            </Text>\n          </LevelItem>\n          {totalSeats > 0 && (\n            <LevelItem>\n              <Text>\n                Seats available:&nbsp;\n                <Label isCompact={true}>\n                  {availableSeats} of {totalSeats}\n                </Label>\n              </Text>\n            </LevelItem>\n          )}\n        </Level>\n      </TextContent>\n    </PageSection>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport type { VoidFunctionComponent } from 'react';\n\nexport type EmptyStateNoAssignedSeatProps = {\n  totalSeats: number;\n  onAddUsers: () => void;\n};\n\nexport const EmptyStateNoAssignedSeat: VoidFunctionComponent<\n  EmptyStateNoAssignedSeatProps\n> = ({ totalSeats, onAddUsers }) => {\n  return (\n    <EmptyState isFullHeight={true}>\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        There are currently no users in your organization assigned seats.\n        <br />\n        Your organization has {totalSeats} seats available.\n      </Title>\n      <EmptyStateBody>\n        Please add users by using the button below.\n      </EmptyStateBody>\n      <Button\n        ouiaId=\"button-create\"\n        variant=\"primary\"\n        onClick={() => onAddUsers()}\n      >\n        Add users\n      </Button>\n    </EmptyState>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport type { VoidFunctionComponent } from 'react';\n\nexport type EmptyStateNoResultsProps = {\n  onClearAllFilters: () => void;\n};\n\nexport const EmptyStateNoResults: VoidFunctionComponent<\n  EmptyStateNoResultsProps\n> = ({ onClearAllFilters }) => {\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        No results found\n      </Title>\n      <EmptyStateBody>\n        Adjust your filters and try again, or&nbsp;\n        <a onClick={onClearAllFilters}>clear all filters</a>.\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import { Button } from '@patternfly/react-core';\nimport { ActionsColumn } from '@patternfly/react-table';\nimport type { TableViewProps } from '@rhoas/app-services-ui-components';\nimport { TableView } from '@rhoas/app-services-ui-components';\nimport { User } from '../client/service';\nimport { Link } from 'react-router-dom';\nimport { EmptyStateNoAssignedSeat } from './EmptyStateNoAssignedSeat';\nimport {\n  EmptyStateNoResults,\n  EmptyStateNoResultsProps,\n} from './EmptyStateNoResults';\n\nexport const Columns = ['name'] as const;\n\nexport const labels: { [key in (typeof Columns)[number]]: string } = {\n  name: 'Username',\n};\n\nexport type UsersWithSeatTableProps = {\n  users: Array<User> | undefined | null;\n  getUrlForUser: (row: User) => string;\n  totalSeats: number | undefined;\n  usernames: string[];\n  canAddUser: boolean;\n  onAddUser: () => void;\n  isUserChecked: (user: User) => boolean;\n  onCheckUser: (user: User, isChecked: boolean) => void;\n  onSearchUsername: (value: string) => void;\n  onRemoveUsernameChip: (value: string) => void;\n  onRemoveUsernameChips: () => void;\n  onRemoveSeat: (row?: User) => void;\n} & Pick<\n  TableViewProps<User, (typeof Columns)[number]>,\n  | 'itemCount'\n  | 'page'\n  | 'perPage'\n  | 'onPageChange'\n  | 'isColumnSortable'\n  | 'onClearAllFilters'\n> &\n  EmptyStateNoResultsProps;\n\nexport const UsersWithSeatTable = ({\n  users,\n  itemCount,\n  page,\n  perPage,\n  usernames,\n  totalSeats,\n  getUrlForUser,\n  isColumnSortable,\n  canAddUser,\n  isUserChecked,\n  onCheckUser,\n  onPageChange,\n  onRemoveSeat,\n  onAddUser,\n  onSearchUsername,\n  onRemoveUsernameChip,\n  onRemoveUsernameChips,\n  onClearAllFilters,\n}: UsersWithSeatTableProps) => {\n  const breakpoint = 'lg';\n\n  const isFiltered = usernames.length > 0;\n\n  return (\n    <TableView\n      data={users}\n      columns={Columns}\n      renderHeader={({ column, Th, key }) => (\n        <Th key={key}>{labels[column]}</Th>\n      )}\n      renderCell={({ column, row, Td, key }) => {\n        return (\n          <Td key={key} dataLabel={labels[column]}>\n            {(() => {\n              switch (column) {\n                case 'name':\n                  return (\n                    <Button\n                      variant=\"link\"\n                      component={(props) => (\n                        <Link to={getUrlForUser(row)} {...props}>\n                          {row.name}\n                        </Link>\n                      )}\n                      isInline\n                    />\n                  );\n\n                default:\n                  return row[column];\n              }\n            })()}\n          </Td>\n        );\n      }}\n      renderActions={({ row }) => {\n        return (\n          <ActionsColumn\n            rowData={hackZIndex}\n            items={[\n              {\n                title: 'Remove seat',\n                onClick: () => onRemoveSeat(row),\n              },\n            ]}\n          />\n        );\n      }}\n      isColumnSortable={isColumnSortable}\n      toolbarBreakpoint={breakpoint}\n      filters={{\n        ['Username']: {\n          type: 'search',\n          chips: usernames,\n          onSearch: onSearchUsername,\n          onRemoveChip: onRemoveUsernameChip,\n          onRemoveGroup: onRemoveUsernameChips,\n          validate: (value) => /^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(value),\n          errorMessage: 'Invalid string',\n        },\n      }}\n      actions={[\n        ...(canAddUser\n          ? [\n              {\n                label: 'Assign user(s)',\n                onClick: onAddUser,\n                isPrimary: true,\n              },\n            ]\n          : []),\n        {\n          label: 'Remove user(s)',\n          onClick: () => onRemoveSeat(),\n          isPrimary: false,\n        },\n      ]}\n      itemCount={itemCount}\n      page={page}\n      perPage={perPage}\n      onPageChange={onPageChange}\n      onClearAllFilters={onClearAllFilters}\n      ariaLabel={'Seats Administration users'}\n      isFiltered={isFiltered}\n      isRowChecked={({ row }) => isUserChecked(row)}\n      onCheck={({ row }, isChecked) => onCheckUser(row, isChecked)}\n      emptyStateNoData={\n        <EmptyStateNoAssignedSeat\n          totalSeats={totalSeats || 0}\n          onAddUsers={onAddUser}\n        />\n      }\n      emptyStateNoResults={\n        <EmptyStateNoResults onClearAllFilters={onClearAllFilters} />\n      }\n    />\n  );\n};\n\nconst hackZIndex = {\n  actionProps: {\n    style: { zIndex: 9999 },\n  },\n};\n","import {\n  Button,\n  Modal,\n  Pagination,\n  PaginationVariant,\n} from '@patternfly/react-core';\nimport {\n  TableComposable,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from '@patternfly/react-table';\nimport { User } from '../client/service';\nimport { useState } from 'react';\n\ntype ConfirmRemoveDialogProps = {\n  users: User[];\n  onConfirm: () => void;\n  onCancel: () => void;\n};\n\nconst PAGE_SIZE = 5;\n\nexport const ConfirmRemoveDialog = ({\n  users,\n  onConfirm,\n  onCancel,\n}: ConfirmRemoveDialogProps) => {\n  const [usersPage, setUserPage] = useState<User[]>(users.slice(0, PAGE_SIZE));\n  const [pageSize, setPageSize] = useState(PAGE_SIZE);\n  const [page, setPage] = useState(1);\n\n  return (\n    <Modal\n      title=\"Remove users\"\n      titleIconVariant=\"warning\"\n      isOpen\n      variant=\"small\"\n      actions={[\n        <Button key=\"remove\" variant=\"danger\" onClick={() => onConfirm()}>\n          Remove user(s)\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" onClick={() => onCancel()}>\n          Cancel\n        </Button>,\n      ]}\n      onClose={onCancel}\n    >\n      Are you sure you want to remove the user(s) below from Project Wisdom\n      {users.length > 5 ? (\n        <>\n          <TableComposable variant=\"compact\">\n            <Thead>\n              <Tr>\n                <Th>Name</Th>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {usersPage.map((user) => (\n                <Tr key={user.id}>\n                  <Td dataLabel=\"Name\">{user.name}</Td>\n                </Tr>\n              ))}\n            </Tbody>\n          </TableComposable>\n          <Pagination\n            isCompact\n            perPageComponent=\"button\"\n            itemCount={users.length}\n            perPage={pageSize}\n            page={page}\n            variant={PaginationVariant.bottom}\n            perPageOptions={[\n              { title: '5', value: 5 },\n              { title: '10', value: 10 },\n              { title: '20', value: 20 },\n            ]}\n            onPerPageSelect={(_, pageSize) => {\n              setPageSize(pageSize);\n              setUserPage(users.slice((page - 1) * pageSize, page * pageSize));\n            }}\n            onSetPage={(_, page) => {\n              setPage(page);\n              setUserPage(users.slice((page - 1) * pageSize, page * pageSize));\n            }}\n          />\n        </>\n      ) : (\n        <p className=\"pf-u-pt-md\">\n          {users.map((user, i) => (\n            <>\n              <b>{user.name}</b>\n              {i !== users.length - 1 ? ', ' : ''}\n            </>\n          ))}\n        </p>\n      )}\n    </Modal>\n  );\n};\n","import { Alert, Page, PageSection } from '@patternfly/react-core';\nimport {\n  usePaginationSearchParams,\n  useURLSearchParamsChips,\n} from '@rhoas/app-services-ui-components';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { EmptyStateNoSubscription } from '../Components/EmptyStateNoSubscription';\nimport { RemoveUsersModal } from '../Components/RemoveUsersModal';\nimport { SeatsHeader } from '../Components/SeatsHeader';\nimport { useService } from '../Components/ServiceProvider';\nimport { UsersWithSeatTable } from '../Components/UsersWithSeatTable';\nimport { License, User } from '../client/service';\nimport { ConfirmRemoveDialog } from '../Components/ConfirmRemoveDialog';\nimport { PageParams } from './AddUsersPage';\n\ntype Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;\n\nexport const UsersPage = ({\n  user,\n  onSuccess,\n  onError,\n}: Optional<PageParams, 'onSuccess' | 'onError'>) => {\n  const history = useHistory();\n  const [checkedUsers, setCheckedUsers] = useState<User[]>([]);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const usernameChips = useURLSearchParamsChips(\n    'username',\n    resetPaginationQuery\n  );\n\n  const service = useService();\n  const queryClient = useQueryClient();\n\n  const subscriptions = useQuery<License>({\n    queryKey: ['subscriptions'],\n    queryFn: () => service.get(user),\n  });\n\n  const users = useQuery<User[]>({\n    queryKey: ['users', { page, perPage, usernames: usernameChips.chips }],\n    queryFn: () => service.seats(user),\n  });\n\n  const negativeSeats = (subscriptions.data?.available || 0) < 0;\n  const usersToRemove = Math.abs(subscriptions.data?.available || 0);\n\n  const cantAddUsers =\n    (subscriptions.data?.total || 0) > 0 && subscriptions.data?.available === 0;\n\n  const { mutate } = useMutation(\n    async (arg: User[]) => {\n      await service.unAssign(\n        user,\n        arg.map(({ id }) => id)\n      );\n      setConfirmOpen(false);\n      setCheckedUsers([]);\n    },\n    {\n      onSuccess: () => {\n        onSuccess && onSuccess('Successfully removed users');\n        queryClient.invalidateQueries({ queryKey: ['users'] });\n      },\n      onError: (error) => {\n        onError && onError('there was an error: ' + error);\n      },\n    }\n  );\n  return (\n    <Page>\n      <SeatsHeader\n        totalSeats={subscriptions.data?.total || 0}\n        availableSeats={subscriptions.data?.available || 0}\n      />\n      {subscriptions.data?.total === 0 && <EmptyStateNoSubscription />}\n      {negativeSeats && usersToRemove && (\n        <RemoveUsersModal\n          usersToRemove={usersToRemove}\n          onOk={() => history.push('/remove-users')}\n        />\n      )}\n      {confirmOpen && (\n        <ConfirmRemoveDialog\n          users={checkedUsers}\n          onConfirm={() => mutate(checkedUsers)}\n          onCancel={() => setConfirmOpen(false)}\n        />\n      )}\n      <PageSection isFilled>\n        {cantAddUsers ? (\n          <Alert\n            title={\n              \"There are 0 seats left in your organization's subscription. Contact Red Hat to manage your Seats Administration license.\"\n            }\n            variant=\"warning\"\n            isInline\n          />\n        ) : null}\n        {subscriptions.data?.total !== 0 && (\n          <UsersWithSeatTable\n            totalSeats={subscriptions.data?.total}\n            users={users.data}\n            itemCount={users.data?.length}\n            canAddUser={!cantAddUsers}\n            page={page}\n            perPage={perPage}\n            onPageChange={setPagination}\n            usernames={usernameChips.chips}\n            onSearchUsername={usernameChips.add}\n            onRemoveUsernameChip={usernameChips.remove}\n            onRemoveUsernameChips={usernameChips.clear}\n            onClearAllFilters={usernameChips.clear}\n            getUrlForUser={(user) => `#${user.name}`}\n            onAddUser={() => {\n              history.push('/add-users');\n            }}\n            isUserChecked={(user) => checkedUsers.includes(user)}\n            onCheckUser={(user, isChecked) => {\n              setCheckedUsers(\n                isChecked\n                  ? [...checkedUsers, user]\n                  : checkedUsers.filter((u) => u !== user)\n              );\n            }}\n            onRemoveSeat={(user) => {\n              if (user) setCheckedUsers([user]);\n              setConfirmOpen(true);\n            }}\n          />\n        )}\n      </PageSection>\n    </Page>\n  );\n};\n","import type { TableViewProps } from '@rhoas/app-services-ui-components';\nimport { TableView } from '@rhoas/app-services-ui-components';\nimport { User } from '../client/service';\nimport {\n  EmptyStateNoResults,\n  EmptyStateNoResultsProps,\n} from './EmptyStateNoResults';\n\nexport const Columns = ['name'] as const;\n\nexport const labels: { [key in (typeof Columns)[number]]: string } = {\n  name: 'Display name',\n};\n\nexport type UsersPickerTableProps = {\n  users: Array<User> | undefined | null;\n  isUserChecked: (row: User) => boolean;\n  usernames: string[];\n  onSearchUsername: (value: string) => void;\n  onRemoveUsernameChip: (value: string) => void;\n  onRemoveUsernameChips: () => void;\n  onCheckUser: (row: User, isChecked: boolean) => void;\n} & Pick<\n  TableViewProps<User, (typeof Columns)[number]>,\n  | 'itemCount'\n  | 'page'\n  | 'perPage'\n  | 'onPageChange'\n  | 'isColumnSortable'\n  | 'onClearAllFilters'\n> &\n  EmptyStateNoResultsProps;\n\nexport const UsersPickerTable = ({\n  users,\n  itemCount,\n  page,\n  perPage,\n  usernames,\n  isColumnSortable,\n  isUserChecked,\n  onPageChange,\n  onSearchUsername,\n  onRemoveUsernameChip,\n  onRemoveUsernameChips,\n  onClearAllFilters,\n  onCheckUser,\n}: UsersPickerTableProps) => {\n  const breakpoint = 'lg';\n\n  const isFiltered = usernames.length > 0;\n  const startIndex = (page - 1) * (perPage || 20);\n\n  return (\n    <TableView\n      data={users?.slice(startIndex, startIndex + (perPage || 20))}\n      columns={Columns}\n      renderHeader={({ column, Th, key }) => (\n        <Th key={key}>{labels[column]}</Th>\n      )}\n      renderCell={({ column, row, Td, key }) => {\n        return (\n          <Td key={key} dataLabel={labels[column]}>\n            {row[column]}\n          </Td>\n        );\n      }}\n      isColumnSortable={isColumnSortable}\n      isRowChecked={({ row }) => isUserChecked(row)}\n      onCheck={({ row }, isChecked) => onCheckUser(row, isChecked)}\n      toolbarBreakpoint={breakpoint}\n      filters={{\n        ['Username']: {\n          type: 'search',\n          chips: usernames,\n          onSearch: onSearchUsername,\n          onRemoveChip: onRemoveUsernameChip,\n          onRemoveGroup: onRemoveUsernameChips,\n          validate: (value) => /./.test(value),\n          errorMessage: 'Invalid string',\n        },\n      }}\n      itemCount={itemCount}\n      page={page}\n      perPage={perPage}\n      onPageChange={onPageChange}\n      onClearAllFilters={onClearAllFilters}\n      ariaLabel={'Seats Administration users'}\n      isFiltered={isFiltered}\n      emptyStateNoData={<>{/* this can't happen */}</>}\n      emptyStateNoResults={\n        <EmptyStateNoResults onClearAllFilters={onClearAllFilters} />\n      }\n    />\n  );\n};\n","import { Alert, Button, ButtonVariant, Modal } from '@patternfly/react-core';\nimport {\n  usePaginationSearchParams,\n  useURLSearchParamsChips,\n} from '@rhoas/app-services-ui-components';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { AuthenticatedUser, License, User } from '../client/service';\nimport { useCallback, useState } from 'react';\nimport { useService } from '../Components/ServiceProvider';\nimport { UsersPickerTable } from '../Components/UsersPickerTable';\nimport { useHistory } from 'react-router-dom';\n\nexport type PageParams = {\n  user: AuthenticatedUser;\n  onSuccess: (message: string) => void;\n  onError: (message: string) => void;\n};\n\nexport const AddUsersPage = ({ user, onSuccess, onError }: PageParams) => {\n  const history = useHistory();\n  const service = useService();\n\n  const close = () => history.push('/');\n\n  const subscriptions = useQuery<License>({\n    queryKey: ['subscriptions'],\n    queryFn: () => service.get(user),\n  });\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const usernameChips = useURLSearchParamsChips('name', resetPaginationQuery);\n  const queryClient = useQueryClient();\n  const users = useQuery<User[]>({\n    queryKey: [\n      'availableUsers',\n      { page, perPage, usernames: usernameChips.chips },\n    ],\n    queryFn: () => service.seats(user, false),\n  });\n\n  const { mutate, isLoading } = useMutation(\n    () => service.assign(user, checkedUsers),\n    {\n      onSuccess: () => {\n        close();\n        onSuccess('Successfully assigned users');\n        queryClient.invalidateQueries({\n          queryKey: ['users', 'availableUsers'],\n        });\n      },\n      onError: (error) => {\n        onError('there was an error: ' + error);\n      },\n    }\n  );\n\n  const [checkedUsers, setCheckedUsers] = useState<string[]>([]);\n  const assignedSeats =\n    (subscriptions.data?.total || 0) - (subscriptions.data?.available || 0);\n  const isAddDisabled =\n    subscriptions.data?.total === undefined\n      ? true\n      : checkedUsers.length > 0\n      ? checkedUsers.length + assignedSeats > subscriptions.data.total\n      : true;\n\n  return (\n    <Modal\n      isOpen\n      title=\"Assign users\"\n      variant=\"medium\"\n      onClose={close}\n      actions={[\n        <Button\n          key=\"assign\"\n          onClick={() => mutate()}\n          isDisabled={isAddDisabled}\n          isLoading={isLoading}\n        >\n          Assign\n        </Button>,\n        <Button key=\"cancel\" onClick={close} variant={ButtonVariant.link}>\n          Cancel\n        </Button>,\n      ]}\n    >\n      {checkedUsers.length + assignedSeats >\n        (subscriptions.data?.total || 0) && (\n        <Alert\n          variant=\"warning\"\n          isInline\n          title=\"Your organization does not have enough Project Wisdom seats for the assignments below\"\n        />\n      )}\n      <UsersPickerTable\n        users={users.data}\n        itemCount={users.data?.length}\n        page={page}\n        perPage={perPage}\n        onPageChange={setPagination}\n        usernames={usernameChips.chips}\n        onSearchUsername={usernameChips.add}\n        onRemoveUsernameChip={usernameChips.remove}\n        onRemoveUsernameChips={usernameChips.clear}\n        onClearAllFilters={usernameChips.clear}\n        isUserChecked={(user) => checkedUsers.includes(user.id)}\n        onCheckUser={(user, isChecked) => {\n          setCheckedUsers(\n            isChecked\n              ? [...checkedUsers, user.id]\n              : checkedUsers.filter((u) => u !== user.id)\n          );\n        }}\n      />\n    </Modal>\n  );\n};\n","import { Button, ButtonVariant, Modal } from '@patternfly/react-core';\nimport {\n  usePaginationSearchParams,\n  useURLSearchParamsChips,\n} from '@rhoas/app-services-ui-components';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { License, User } from '../client/service';\nimport { useCallback, useState } from 'react';\nimport { useService } from '../Components/ServiceProvider';\nimport { UsersPickerTable } from '../Components/UsersPickerTable';\nimport { useHistory } from 'react-router-dom';\nimport { PageParams } from './AddUsersPage';\n\nexport const RemoveUsersPage = ({ user, onSuccess, onError }: PageParams) => {\n  const history = useHistory();\n  const service = useService();\n\n  const subscriptions = useQuery<License>({\n    queryKey: ['subscriptions'],\n    queryFn: () => service.get(user),\n  });\n\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const usernameChips = useURLSearchParamsChips(\n    'username',\n    resetPaginationQuery\n  );\n\n  const queryClient = useQueryClient();\n  const users = useQuery<User[]>({\n    queryKey: [\n      'assignedUsers',\n      { page, perPage, usernames: usernameChips.chips },\n    ],\n    queryFn: () => service.seats(user),\n  });\n\n  const [checkedUsers, setCheckedUsers] = useState<string[]>([]);\n\n  const assignedSeats =\n    (subscriptions.data?.total || 0) - (subscriptions.data?.available || 0);\n\n  const { mutate, isLoading } = useMutation(\n    () => {\n      setCheckedUsers([]);\n      return service.unAssign(user, checkedUsers);\n    },\n    {\n      onSuccess: () => {\n        onSuccess('Successfully removed users');\n        queryClient.invalidateQueries({ queryKey: ['users', 'assignedUsers'] });\n      },\n      onError: (error) => {\n        onError('there was an error: ' + error);\n      },\n    }\n  );\n\n  const close = () => history.push('/');\n\n  return (\n    <Modal\n      isOpen\n      title={`Remove ${assignedSeats} users from their assigned seats`}\n      variant=\"medium\"\n      onClose={close}\n      actions={[\n        <Button\n          key=\"remove\"\n          onClick={() => mutate()}\n          isDisabled={checkedUsers.length > assignedSeats}\n          isLoading={isLoading}\n        >\n          Remove\n        </Button>,\n        <Button\n          key=\"cancel\"\n          onClick={close}\n          variant={ButtonVariant.link}\n          isDisabled={isLoading}\n        >\n          Cancel\n        </Button>,\n      ]}\n    >\n      <UsersPickerTable\n        users={users.data}\n        itemCount={users.data?.length}\n        page={page}\n        perPage={perPage}\n        onPageChange={setPagination}\n        usernames={usernameChips.chips}\n        onSearchUsername={usernameChips.add}\n        onRemoveUsernameChip={usernameChips.remove}\n        onRemoveUsernameChips={usernameChips.clear}\n        onClearAllFilters={usernameChips.clear}\n        isUserChecked={(user) => checkedUsers.includes(user.id)}\n        onCheckUser={(user, isChecked) => {\n          setCheckedUsers(\n            isChecked\n              ? [...checkedUsers, user.id]\n              : checkedUsers.filter((u) => u !== user.id)\n          );\n        }}\n      />\n    </Modal>\n  );\n};\n","import { Bullseye, Spinner } from '@patternfly/react-core';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport { InvalidObject } from '@redhat-cloud-services/frontend-components/InvalidObject';\nimport React, { Suspense, useEffect, useState } from 'react';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\n\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { AuthenticatedUser } from './client/service';\nimport { ServiceContextProvider } from './Components/ServiceProvider';\nimport { UsersPage } from './Pages/UsersPage';\nimport { AddUsersPage } from './Pages/AddUsersPage';\nimport { RemoveUsersPage } from './Pages/RemoveUsersPage';\n\nexport const Routes = () => {\n  const [user, setUser] = useState<AuthenticatedUser>();\n  const dispatch = useDispatch();\n  const handleAlert = (\n    message: string,\n    type:\n      | 'default'\n      | 'success'\n      | 'danger'\n      | 'warning'\n      | 'info'\n      | undefined = 'success'\n  ) => {\n    dispatch(\n      addNotification({\n        variant: type,\n        title: message,\n      })\n    );\n  };\n  const handleError = (message: string) => handleAlert(message, 'danger');\n\n  const {\n    auth: { getToken, getUser },\n  } = useChrome();\n\n  useEffect(() => {\n    (async () => {\n      const user = await getUser();\n      if (user)\n        setUser({\n          orgId: user.identity.org_id,\n          serviceId: 'smarts',\n          token: getToken,\n        } as AuthenticatedUser);\n    })();\n  }, []);\n\n  if (!user) {\n    return (\n      <Bullseye>\n        <Spinner />\n      </Bullseye>\n    );\n  }\n\n  return (\n    <Suspense\n      fallback={\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      }\n    >\n      <ServiceContextProvider\n        serviceName={process.env.SERVICE_KEY!}\n        baseUrl={process.env.BASE_URL}\n      >\n        <Router basename={getBaseName(window.location.pathname) + '/seats'}>\n          <Switch>\n            <Route path=\"/add-users\">\n              <UsersPage user={user} />\n              <AddUsersPage\n                user={user}\n                onSuccess={handleAlert}\n                onError={handleError}\n              />\n            </Route>\n            <Route path=\"/remove-users\">\n              <UsersPage user={user} />\n              <RemoveUsersPage\n                user={user}\n                onSuccess={handleAlert}\n                onError={handleError}\n              />\n            </Route>\n            <Route path=\"/\">\n              <UsersPage\n                user={user}\n                onSuccess={handleAlert}\n                onError={handleError}\n              />\n            </Route>\n            {/* Finally, catch all unmatched routes */}\n            <Route>\n              <InvalidObject />\n            </Route>\n          </Switch>\n        </Router>\n      </ServiceContextProvider>\n    </Suspense>\n  );\n};\n","import NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\nimport React, { Fragment, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Reducer } from 'redux';\nimport './App.scss';\n\nimport { Routes } from './Routes';\n\nconst App = () => {\n  const { updateDocumentTitle, on } = useChrome();\n  const history = useHistory();\n\n  useEffect(() => {\n    const registry = getRegistry();\n    registry.register({ notifications: notificationsReducer as Reducer });\n    // You can use directly the name of your app\n    updateDocumentTitle('Starter app');\n\n    const unregister = on('APP_NAVIGATION', (event) => {\n      console.dir(event);\n      if (event.navId) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call,@typescript-eslint/no-unsafe-member-access\n        history.push(event.navId);\n      }\n    });\n    return () => {\n      if (unregister) {\n        unregister();\n      }\n    };\n  }, []);\n\n  return (\n    <Fragment>\n      <NotificationsPortal />\n      <Routes />\n    </Fragment>\n  );\n};\n\nexport default App;\n","/* eslint-disable no-unused-vars */\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport type ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport type { Middleware, Reducer } from 'redux';\n\nexport let registry: ReducerRegistry<Reducer>;\n\nexport function init(...middleware: Middleware[]) {\n  registry = getRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({ errorDescriptionKey: ['detail', 'stack'] }),\n    ...middleware,\n  ]);\n  return registry;\n}\n"],"names":["get","Promise","fetch","json","totalSeats","availableSeats","total","available","seats","assign","resolve","unAssign","oazapfts","baseUrl","licenseServiceGetLicense","orgId","serviceId","opts","ok","fetchJson","encodeURIComponent","licenseServiceModifySeats","licensesServiceIdBody","method","body","licenseServiceGetSeats","includeUsers","filter","this","token","requestHeader","result","Number","seatsAvailable","seatsTotal","assigned","users","map","id","name","header","user","userIds","modify","unassign","getSeats","limit","offset","postSeats","seatRequest","deleteSeatsById","listPrincipals","matchCriteria","usernames","sortOrder","email","status","adminOnly","orderBy","usernameOnly","match_criteria","sort_order","admin_only","order_by","username_only","allowed","consumed","data","username","first_name","last_name","all","account_username","tokenString","headers","Authorization","getService","serviceKey","CiamAuthz","EntitlementsService","MockService","Error","ServiceContext","createContext","undefined","useService","context","resolved","useContext","useRequiredContext","ServiceContextProvider","serviceName","children","Provider","value","DangerIcon","Icon","size","EmptyStateNoSubscription","EmptyState","isFullHeight","EmptyStateIcon","component","variant","Title","headingLevel","EmptyStateBody","RemoveUsersModal","usersToRemove","onOk","Modal","ModalVariant","isOpen","title","titleIconVariant","showClose","actions","Button","onClick","ButtonVariant","SeatsHeader","PageSection","hasShadowBottom","TextContent","Level","LevelItem","Text","Label","isCompact","EmptyStateNoAssignedSeat","onAddUsers","icon","ouiaId","EmptyStateNoResults","onClearAllFilters","EmptyStateVariant","Columns","labels","UsersWithSeatTable","itemCount","page","perPage","getUrlForUser","isColumnSortable","canAddUser","isUserChecked","onCheckUser","onPageChange","onRemoveSeat","onAddUser","onSearchUsername","onRemoveUsernameChip","onRemoveUsernameChips","isFiltered","length","TableView","columns","renderHeader","column","Th","key","renderCell","row","Td","dataLabel","props","Link","to","isInline","renderActions","ActionsColumn","rowData","hackZIndex","items","toolbarBreakpoint","filters","type","chips","onSearch","onRemoveChip","onRemoveGroup","validate","test","errorMessage","label","isPrimary","ariaLabel","isRowChecked","onCheck","isChecked","emptyStateNoData","emptyStateNoResults","actionProps","style","zIndex","ConfirmRemoveDialog","onConfirm","onCancel","useState","slice","usersPage","setUserPage","pageSize","setPageSize","setPage","onClose","TableComposable","Thead","Tr","Tbody","Pagination","perPageComponent","PaginationVariant","perPageOptions","onPerPageSelect","_","onSetPage","className","i","UsersPage","onSuccess","onError","history","useHistory","checkedUsers","setCheckedUsers","confirmOpen","setConfirmOpen","usePaginationSearchParams","setPagination","setPaginationQuery","resetPaginationQuery","useCallback","usernameChips","useURLSearchParamsChips","service","queryClient","subscriptions","useQuery","queryKey","queryFn","negativeSeats","Math","abs","cantAddUsers","mutate","useMutation","arg","invalidateQueries","error","Page","push","isFilled","Alert","add","remove","clear","includes","u","UsersPickerTable","startIndex","AddUsersPage","close","isLoading","assignedSeats","isAddDisabled","isDisabled","RemoveUsersPage","Routes","setUser","dispatch","handleAlert","message","handleError","useChrome","getToken","getUser","useEffect","identity","org_id","Suspense","fallback","Bullseye","Spinner","basename","window","location","pathname","Switch","Route","path","InvalidObject","updateDocumentTitle","on","register","notifications","unregister","event","console","dir","navId","Fragment","init","errorDescriptionKey","middleware"],"sourceRoot":""}